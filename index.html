<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <title>Ermis TTS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="favicons/favicon.ico">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <style>
      :root {
        --tab-bg: #0f172a; /* slate-900 */
        --tab-muted: #1e293b; /* slate-800 */
        --tab-accent: #22d3ee; /* cyan-400 */
        --tab-text: #e2e8f0; /* slate-200 */
        --bd: #243041; /* border */
      }
      body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }

      /* --- Tabs --- */
      .tabs { margin: 24px auto 0; max-width: 1400px; width: calc(100% - 32px); background: #ffffff; border: 1px solid #e5e7eb; border-radius: 14px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
      .tab-header { display: flex; flex-wrap: wrap; background: #f1f5f9; border-bottom: 1px solid var(--border); }
      .tab-btn { appearance: none; background: transparent; color: #0f172a; padding: 14px 18px; font-weight: 700; border: 0; cursor: pointer; position: relative; transition: background .2s ease; }
      .tab-btn:hover { background: rgba(2,6,23,.04); }
      [data-theme="dark"] .tab-btn:hover { background: rgba(255,255,255,.05); }
      .tab-btn[aria-selected="true"] { color: #0f172a; }
      .tab-btn[aria-selected="true"]::after { content: ""; position: absolute; left: 12px; right: 12px; bottom: 0; height: 3px; background: #3b82f6; border-radius: 3px 3px 0 0; }
      .tab-panel { display: none; padding: 22px; background: transparent; color: #0f172a; }
      .tab-panel.active { display: block; }

      /* Audio grid */
      .audio-folder { margin: 8px 0 0; border-top: 1px solid #e5e7eb; }
      .audio-folder summary { cursor: pointer; padding: 14px 18px; font-weight: 700; list-style: none; color: #0f172a; }
      .audio-folder summary::-webkit-details-marker { display: none; }
      .audio-folder summary span { opacity: .9; font-weight: 600; font-size: .95rem; color: var(--muted); }
      .audio-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 12px; padding: 0 18px 18px; }
      .audio-card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; }
      .audio-card .fn { display: block; font-size: .85rem; opacity: .85; margin-bottom: 6px; word-break: break-all; color: var(--muted); }
      .audio-card audio { width: 100%; border-radius: 8px; }

      /* Emo√ß√£o: controles e largura total */
      .emotion-controls { display:flex; align-items:center; gap:10px; padding: 0 0 16px 0; }
      .emotion-select { background:#ffffff; color:#0f172a; border:1px solid #e5e7eb; border-radius:8px; padding:8px 10px; }
      .emotion-matrix { display: block; width: 100%; }

      /* Header small fixes so it still looks ok */
      #page-header { position: relative; min-height: 220px; color: white; overflow: hidden; }
      #bg-header { position: absolute; inset: 0; z-index: 0; background: radial-gradient(1200px 600px at 20% -10%, rgba(34,211,238,.25), transparent), radial-gradient(1000px 600px at 80% 0%, rgba(99,102,241,.25), transparent), linear-gradient(180deg, #0b1022 0%, #04070f 100%); }
      #demo-canvas { position: absolute; inset: 0; z-index: 1; }
      .main-title { position: relative; z-index: 2; display: grid; place-items: center; padding: 56px 16px; text-align: center; }
      .project-name a { color: white; text-decoration: none; }
      .project-tagline { color: #c7d2fe; font-weight: 600; text-shadow: 0 1px 2px rgba(0,0,0,.25); }
      .model-voice { 
              margin: 8px 0 0; 
              padding: 14px 18px; 
              background: #f1f5f9;
              border-top: 1px solid #e5e7eb;
              font-weight: 700;
              color: #0f172a;
              cursor: pointer;
              list-style: none;
              transition: background 0.2s ease;
      }

      .model-voice:hover {
        background: rgba(2,6,23,.04);
      }
      [data-theme="dark"] .model-voice:hover { background: rgba(255,255,255,.05); }
      .model-voice::-webkit-details-marker { display: none; }
      .model-voice span {
        opacity: .9;
        font-weight: 600;
        font-size: .95rem;
        color: #334155;
        margin-left: 8px;
      }
      .model-content {
        padding: 18px;
      }
      .model-grid { 
        display:grid; 
        grid-template-columns: repeat(auto-fill, minmax(320px,1fr)); 
        gap:16px; 
        margin-top: 16px;
      }
      .model-card { 
        background:#ffffff; 
        border:1px solid #e5e7eb; 
        border-radius:12px; 
        padding:14px; 
        display:flex; 
        flex-direction:column; 
        gap:10px;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(0,0,0,.06);
      }
      .model-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,.1);
        transform: translateY(-2px);
      }
      .model-card audio { 
        width:100%; 
        border-radius: 8px;
      }
      .model-card p { 
        margin:0; 
        font-size:.92rem; 
        line-height:1.5rem; 
        color:#334155;
        padding: 10px 12px;
        background: #f8fafc;
        border-radius: 8px;
        border-left: 3px solid var(--tab-accent);
      }
      .chips {
        display: flex;
        gap: 8px;
        align-items: center;
        flex-wrap: wrap;
        margin-bottom: 8px;
      }
      .chip {
        display: inline-block;
        font-size: .75rem;
        font-weight: 700;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid #e5e7eb;
        background: #f8fafc;
        color: #0f172a;
      }
      .chip-group { border-color: #dcfce7; background: #f0fdf4; }       /* Grupo: Impact / Sad / Mid-Long */
      .chip-cap   { border-color: #73c8f6; background: #eff6ff; }
      [data-theme="dark"] .chip-cap { border-color: #164e63; background: #082f49; }   

      /* Painel de voz (Por emo√ß√£o) seguindo o estilo de "Por modelo" */
      .voice-panel {
        background:#ffffff;
        border:1px solid #e5e7eb;
        border-radius:12px;
        padding:14px;
        margin:12px 0;
        box-shadow: 0 1px 3px rgba(0,0,0,.06);
      }
      .filename { 
        display:block; 
        font-size:.78rem; 
        color:#64748b; 
        margin-top:6px; 
        word-break: break-all; 
      }
    </style>
    <style>
      :root {
        --bg: #f8fafc;
        --text: #0f172a;
        --muted: #475569;
        --surface: #ffffff;
        --border: #e5e7eb;
        --accent: #22d3ee;
      }
      [data-theme="dark"] {
        --bg: #0b1022;
        --text: #e2e8f0;
        --muted: #94a3b8;
        --surface: #0f172a;
        --border: #243041;
        --accent: #22d3ee;
        --code-bg: #0b1220;
        --code-text: #cbd5e1;
        --code-border: #1f2937;
      }
      :root { color-scheme: light; }
      [data-theme="dark"] { color-scheme: dark; }
      body { background: var(--bg); color: var(--text); }
      a { color: var(--accent); }
      a:hover { opacity: .9; }
      .tabs { background: var(--surface); border-color: var(--border); }
      .tab-header { background: var(--bg); }
      .tab-btn { color: var(--text); }
      .tab-panel { color: var(--text); }
      .tab-btn[aria-selected="true"] { color: var(--text); }
      .audio-card, .model-card, .voice-panel { background: var(--surface); border-color: var(--border); }
      .chips .chip { background: var(--bg); border-color: var(--border); color: var(--text); }
      .chip-group { border-color: #dcfce7; background: #f0fdf4; }
      [data-theme="dark"] .chip-group { border-color: #166534; background: #052e16; }
      .main-content h1, .main-content h2, .main-content h3, .main-content h4, .main-content h5, .main-content h6 { color: var(--text); }
      .page-header .project-tagline { color: #c7d2fe; }
      /* Overrides for components with hardcoded light colors */
      .audio-folder { border-top-color: var(--border); }
      .audio-folder summary { color: var(--text) !important; }
      .emotion-select { background: var(--surface) !important; color: var(--text) !important; border-color: var(--border) !important; }
      .model-voice { background: var(--bg) !important; color: var(--text) !important; border-top-color: var(--border) !important; }
      .model-voice span { color: var(--muted) !important; }
      /* Code / pre blocks themed */
      .main-content code { color: var(--code-text); background-color: var(--code-bg); border-color: var(--code-border); }
      .main-content pre, .main-content .highlight pre { background-color: var(--code-bg); border-color: var(--code-border); color: var(--code-text); }
      .main-content pre code { color: var(--code-text); }
      .model-voice summary { position: relative; }
      .model-voice summary::after {
        content: "‚ñ∏";
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        transition: transform .2s ease;
        opacity: .7;
      }
      .model-voice[open] summary::after {
        transform: translateY(-50%) rotate(90deg);
        opacity: 1;
      }
      /* Chevron tamb√©m para pastas de √°udio (Por voz) */
      .audio-folder summary { position: relative; }
      .audio-folder summary::after {
        content: "‚ñ∏";
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        transition: transform .2s ease;
        opacity: .6;
      }
      .audio-folder[open] summary::after { transform: translateY(-50%) rotate(90deg); opacity: .95; }
      
      .tab-btn:focus-visible, summary:focus-visible, select:focus-visible, .theme-toggle:focus-visible {
        outline: 3px solid var(--accent);
        outline-offset: 2px;
        border-radius: 8px;
      }
      .emotion-controls label { color: var(--muted); font-weight: 600; }
      .chip { box-shadow: 0 1px 2px rgba(0,0,0,.06); }
      @keyframes fadeUp {
        from { opacity: 0; transform: translateY(6px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .model-card, .audio-card { animation: fadeUp .2s ease both; }
      .audio-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,.1); transform: translateY(-2px); }
      .model-card p { background: var(--bg); color: var(--muted); }
      .theme-toggle {
        position: absolute;
        right: 14px;
        top: 14px;
        z-index: 3;
        appearance: none;
        border: 1px solid var(--border);
        background: var(--surface);
        color: var(--text);
        border-radius: 999px;
        padding: 8px 10px;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,.12);
        transition: background .2s ease, transform .1s ease;
      }
      .theme-toggle:hover { transform: translateY(-1px); }
      .main-content { color: var(--text); max-width: 1200px; margin: 0 auto; padding: 0 16px; }
      .main-content p { color: var(--muted); line-height: 1.75; margin: 0 0 1rem; }
      .main-content h1 { font-size: clamp(1.8rem, 1.6rem + 1vw, 2.4rem); line-height: 1.25; margin: 1rem 0 .5rem; }
      .main-content h2 { font-size: clamp(1.4rem, 1.3rem + .6vw, 1.8rem); margin-top: 24px; }
      .main-content h3 { font-size: clamp(1.2rem, 1.1rem + .4vw, 1.4rem); margin-top: 18px; }
      /* Destaque para t√≠tulos solicitados */
      .section-title { font-size: clamp(1.6rem, 1.2rem + 1.2vw, 2.3rem); font-weight: 800; letter-spacing: -0.01em; }
      #titulo-descricao { margin-top: 40px; }
    </style>
    <style>
      /* Vibrant Phase 1 ‚Äî foundation, subtle glow */
      :root { --accent-2: #a78bfa; }
      .tab-header { gap: 6px; padding: 8px; border-bottom-color: var(--border); }
      .tab-btn { border-radius: 0; padding: 10px 16px; border: 0; }
      .tab-btn[aria-selected="true"] { background: transparent; border-color: transparent; box-shadow: none; }
      [data-theme="dark"] .tab-btn[aria-selected="true"] { background: transparent; border-color: transparent; box-shadow: none; }
      .model-card, .voice-panel, .audio-card {
        border-color: transparent;
        box-shadow: 0 1px 3px rgba(0,0,0,.06), 0 8px 24px rgba(2,6,23,.06), 0 0 0 6px rgba(34,211,238,.05);
      }
      .model-card:hover, .voice-panel:hover, .audio-card:hover {
        box-shadow: 0 2px 6px rgba(0,0,0,.08), 0 16px 36px rgba(2,6,23,.10), 0 0 0 6px rgba(34,211,238,.08);
      }
      .chip {
        background: linear-gradient(90deg, rgba(34,211,238,.12), rgba(167,139,250,.12));
        border-color: rgba(34,211,238,.25);
      }
      .chip-group {
        background: linear-gradient(90deg, rgba(34,211,238,.18), rgba(167,139,250,.18));
        border-color: rgba(34,211,238,.35);
      }
      .ref-audio { box-shadow: 0 1px 3px rgba(0,0,0,.06), 0 0 0 6px rgba(34,211,238,.05); }
      .theme-toggle { border-color: rgba(34,211,238,.35); box-shadow: 0 2px 10px rgba(0,0,0,.12), 0 0 0 6px rgba(34,211,238,.08); }
    </style>
    <style>
      /* Vibrant Phase 2 ‚Äî gradients, glass, aurora */
      /* Aurora header overlays */
      #bg-header::before, #bg-header::after {
        content: "";
        position: absolute;
        border-radius: 9999px;
        filter: blur(40px);
        opacity: .35;
        pointer-events: none;
        will-change: transform;
        mix-blend-mode: screen;
        animation: drift 18s ease-in-out infinite;
      }
      #bg-header::before {
        width: 520px; height: 520px;
        left: -120px; top: -160px;
        background: radial-gradient(closest-side, rgba(34,211,238,.35), transparent 70%),
                    radial-gradient(closest-side, rgba(167,139,250,.30), transparent 70%);
        animation-direction: alternate;
      }
      #bg-header::after {
        width: 460px; height: 460px;
        right: -120px; top: -80px;
        background: radial-gradient(closest-side, rgba(99,102,241,.30), transparent 70%),
                    radial-gradient(closest-side, rgba(34,211,238,.25), transparent 70%);
        animation-direction: alternate-reverse;
      }
      @keyframes drift {
        0%   { transform: translate3d(0,0,0) scale(1); }
        50%  { transform: translate3d(0,-10px,0) scale(1.04); }
        100% { transform: translate3d(0,0,0) scale(1); }
      }

      /* Glass + gradient border for tabs container */
      .tabs {
        border: 1px solid transparent;
        background:
          linear-gradient(var(--surface), var(--surface)) padding-box,
          linear-gradient(120deg, rgba(34,211,238,.35), rgba(167,139,250,.35)) border-box;
        box-shadow: 0 10px 30px rgba(0,0,0,.08), 0 0 0 8px rgba(34,211,238,.05);
      }

      /* Cards with subtle gradient borders */
      .model-card, .voice-panel, .audio-card {
        border: 1px solid transparent;
        background:
          linear-gradient(var(--surface), var(--surface)) padding-box,
          linear-gradient(135deg, rgba(34,211,238,.35), rgba(167,139,250,.35)) border-box;
      }

      /* Sticky summaries inside Por emo√ß√£o */
      #painel-emocao details.model-voice > summary {
        position: sticky;
        top: 8px;
        z-index: 2;
        background: var(--surface);
        border-radius: 10px;
      }

      /* Emotion color system ‚Äî refined */
      .emo-angry    { --emo: #ef4444; --emo-rgb: 239, 68, 68; }
      .emo-fear     { --emo: #f59e0b; --emo-rgb: 245, 158, 11; }
      .emo-happy    { --emo: #22c55e; --emo-rgb: 34, 197, 94; }
      .emo-sad      { --emo: #3b82f6; --emo-rgb: 59, 130, 246; }
      .emo-surprise { --emo: #ec4899; --emo-rgb: 236, 72, 153; }
      .emo-neutral  { --emo: #64748b; --emo-rgb: 100, 116, 139; }

      /* Emotion accents ‚Äî lighter, elegant */
      .voice-panel[class*="emo-"] { position: relative; overflow: hidden; }
      .voice-panel[class*="emo-"]::before {
        content: "";
        position: absolute;
        left: 0; right: 0; top: 0; height: 6px;
        background: linear-gradient(90deg, rgba(var(--emo-rgb), .55), rgba(var(--emo-rgb), .18));
      }

      /* Summary marker: small dot with soft halo */
      details.model-voice[class*="emo-"] > summary { padding-left: 24px; }
      details.model-voice[class*="emo-"] > summary::before {
        content: "";
        position: absolute;
        left: 12px; top: 50%;
        width: 8px; height: 8px;
        transform: translateY(-50%);
        border-radius: 999px;
        background-color: var(--emo);
        box-shadow: 0 0 0 3px rgba(var(--emo-rgb), .18);
      }

      /* Emotion chip tint inside voice panels */
      .voice-panel[class*="emo-"] .chip-cap {
        background: linear-gradient(90deg, rgba(var(--emo-rgb), .12), rgba(167,139,250, .10));
        border-color: rgba(var(--emo-rgb), .35);
      }

      /* Scrollbar polish */
      * { scrollbar-width: thin; scrollbar-color: rgba(148,163,184,.6) transparent; }
      *::-webkit-scrollbar { height: 10px; width: 10px; }
      *::-webkit-scrollbar-thumb { background: linear-gradient(180deg, rgba(34,211,238,.6), rgba(167,139,250,.6)); border-radius: 10px; }
      *::-webkit-scrollbar-track { background: transparent; }

      /* Header title subtle glow */
      .project-name { text-shadow: 0 2px 20px rgba(34,211,238,.35); }
    </style>

    <style>
      /* Vibrant Phase 3 ‚Äî micro-interactions and refined accents */
      .tab-btn {
        transition: background .2s ease, transform .04s ease;
      }
      .tab-btn:hover { transform: translateY(-1px); }

      .model-card, .voice-panel, .audio-card {
        transition: transform .15s ease, box-shadow .2s ease;
      }
      .model-card:hover, .voice-panel:hover, .audio-card:hover {
        transform: translateY(-2px);
      }

      .chip-cap { box-shadow: 0 1px 3px rgba(0,0,0,.08), 0 0 0 4px rgba(34,211,238,.06); }
      .ref-audio { border-left: 3px solid var(--accent); }

      /* Dark theme refinements */
      [data-theme="dark"] .tab-btn[aria-selected="true"]::after { background: #22d3ee; }
      [data-theme="dark"] .main-content p { color: #cbd5e1; }
      [data-theme="dark"] .tabs { box-shadow: 0 12px 40px rgba(0,0,0,.35), 0 0 0 8px rgba(34,211,238,.06); }
      [data-theme="dark"] #bg-header::before, [data-theme="dark"] #bg-header::after { opacity: .45; }

      /* Info card */
      .info-card { border: 1px solid var(--border); background: var(--surface); border-radius: 12px; padding: 14px; margin: 16px 0; box-shadow: 0 1px 3px rgba(0,0,0,.06), 0 8px 24px rgba(2,6,23,.06), 0 0 0 6px rgba(34,211,238,.05); }
      .info-card h3 { margin: 0 0 8px; font-size: 1rem; color: var(--text); }
      .info-card ul { margin: 0; padding-left: 18px; color: var(--muted); line-height: 1.7; }
      [data-theme="dark"] .info-card { box-shadow: 0 2px 6px rgba(0,0,0,.28), 0 0 0 6px rgba(34,211,238,.08); border-color: rgba(34,211,238,.35); }
    </style>
  </head>
  <body>
    <section id="page-header" class="page-header">
      <div id="bg-header"></div>
      <canvas id="demo-canvas"></canvas>
      <button id="theme-toggle" class="theme-toggle" aria-label="Alternar tema" title="Alternar tema">üåô</button>
      <div class="main-title">
        <h1 class="project-name"><span><a href="index.html">Ermis TTS</a></span></h1>
        <h2 class="project-tagline">S√≠ntese neural multil√≠ngue com clonagem de voz e controle de emo√ß√£o</h2>
      </div>
    </section>

    <section class="main-content">
      <!-- Links removidos/ocultos enquanto ajustamos para Ermis -->

      <!-- <div style="text-align: center;">
        <h2>Ermis TTS: The best TTS for everyone</h2>
        <p><b>Edresson Casanova, Julian Weber, Christopher Shulby, Arnaldo Candido Junior, Eren G√∂lge e Moacir Antonelli Ponti</b></p>
      </div> -->

      <h2 id="titulo-descricao" class="section-title">Descri√ß√£o</h2>
      <p>
        <b>Ermis TTS</b> √© um mecanismo de s√≠ntese neural de voz pronto para produ√ß√£o. Oferece m√∫ltiplas vozes e idiomas, clonagem de voz <em>zero‚Äëshot</em> a partir de poucos segundos de √°udio, e transfer√™ncia de estilo com controle de pros√≥dia para emo√ß√µes como <em>Impact</em> e <em>Sad</em>.
        Foi projetado para baixa lat√™ncia, alto paralelismo e implanta√ß√£o simples ‚Äî em servidores ou notebooks ‚Äî mantendo naturalidade e alta similaridade com a voz alvo. As amostras abaixo est√£o organizadas por voz, por emo√ß√£o e por voz com texto.
      </p>


      <h2 id="titulo-amostras" class="section-title">Amostras Ermis-TTS</h2>

      <div class="info-card">
        <h3>Como ler os datasets</h3>
        <ul>
          <li><b>Por voz</b>: amostras geradas pelos modelos Ermis em pastas por voz (Voz Feminina 01/02, Voz Masculina 01/02). Os grupos indicam o conte√∫do textual (<em>Impact</em>, <em>Sad</em>, <em>Mid‚ÄëLong</em>).</li>
          <li><b>Por emo√ß√£o</b>: Dataset <b>EmoUERJ</b>. Cada bloco agrupa vozes por g√™nero e emo√ß√£o, mostra um <b>√Åudio de refer√™ncia</b> (voz humana) quando dispon√≠vel e uma grade de amostras geradas (Ermis) com o mesmo texto.</li>
          <li><b>√Åudio de refer√™ncia</b>: guia de timbre e pros√≥dia; n√£o √© a voz clonada no demo.</li>
          <li><b>Arquivos</b>: nomes como <code>pt_impact_#.wav</code> e <code>pt_sad_#.wav</code> indicam o estilo aplicado (quando houver).</li>
        </ul>
      </div>

      <p><em>Importante:</em> nas abas <b>Por emo√ß√£o</b> e <b>Por voz com texto</b>, o termo <b>‚Äúemo√ß√£o‚Äù</b> diz respeito apenas ao <u>conte√∫do textual</u> ‚Äî frases que evocam raiva, tristeza, medo etc. O √°udio permanece da mesma voz/modelo; <b>n√£o</b> aplicamos controle pros√≥dico/estilo adicional nessas abas. Quando houver amostras com estilo de s√≠ntese (ex.: <code>Impact</code> ou <code>Sad</code>), isso estar√° expl√≠cito no nome da pasta/arquivo (<code>pt_impact_#.wav</code>, <code>pt_sad_#.wav</code>).</p>


      <div class="tabs" role="tablist" aria-label="Amostras organizadas">
        <div class="tab-header">
          <!-- Ajuste: padr√£o agora √© "Por voz com texto" -->
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="painel-voz" id="tab-voz">Por voz</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="painel-emocao" id="tab-emocao">Por emo√ß√£o</button>
          <button class="tab-btn" role="tab" aria-selected="true" aria-controls="painel-modelo" id="tab-modelo">Por voz com texto</button>
        </div>
        <div class="tab-panel" id="painel-voz" role="tabpanel" aria-labelledby="tab-voz">
          <p>Pr√©via por voz, separados por pasta. Expanda uma pasta para ver os √°udios.</p>

          <details class="audio-folder" open>
            <summary>Voz Feminina 01<span>‚Äî Impact &amp; Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/female-alc-dub/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":2},{"label":"Sad","prefix":"pt_sad_","start":0,"end":2}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Feminina 02<span>‚Äî Impact &amp; Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/female-alc-dub-2/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":2},{"label":"Sad","prefix":"pt_sad_","start":0,"end":2}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Masculina 01<span>‚Äî Mid-Long</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub/output" data-groups='[{"label":"Mid-Long","prefix":"pt_mid_long_","start":0,"end":5}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Masculina 02<span>‚Äî Mid-Long</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2/output" data-groups='[{"label":"Mid-Long","prefix":"pt_mid_long_","start":0,"end":2},{"label":"Impact","prefix":"pt_impact_","start":0,"end":2}]'></div>
          </details>

          <!-- <details class="audio-folder">
            <summary>male-alc-dub-2_2 <span>‚Äî Impact</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2_2/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":5}]'></div>
          </details> -->

          <!-- <details class="audio-folder">
            <summary>male-alc-dub-2_3 <span>‚Äî Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2_3/output" data-groups='[{"label":"Sad","prefix":"pt_sad_","start":0,"end":5}]'></div>
          </details> -->
        </div>
        <div class="tab-panel" id="painel-emocao" role="tabpanel" aria-labelledby="tab-emocao">
          <div class="emotion-controls">
            <label for="sel-pasta">Dataset:</label>
            <select id="sel-pasta" class="emotion-select">
              <option value="ALL">Todas</option>
              <option value="female-alc-dub">Voz Feminina 01</option>
              <option value="female-alc-dub-2">Voz Feminina 02</option>
              <option value="male-alc-dub">Voz Masculina 01</option>
              <option value="male-alc-dub-2">Voz Masculina 02</option>
            </select>
          </div>
          <div id="emotion-matrix" class="emotion-matrix" aria-live="polite"></div>
        </div>
        <div class="tab-panel active" id="painel-modelo" role="tabpanel" aria-labelledby="tab-modelo">
          <div id="modelo-wrap"></div>
        </div>

      </div>

      <!-- <footer class="site-footer">
        <a href="https://coqui.ai/" title="Coqui AI" target="blank"><img src="img/coqui.png" border="0" height="40" alt="Coqui AI"></a>
        <a href="http://www.defined.ai/" title="Defined.ai" target="blank"><img src="img/df.jpeg" border="0" height="50" alt="Defined.ai"></a>
        <a href="http://www.deeplearningbrasil.com.br/" title="Deep Learning Brasil" target="blank"><img src="img/dlb.png" border="0" height="50" alt="Deep Learning Brasil"></a>
        <a href="http://icmc.usp.br/" title="Institute of Mathematics and Computer Science (ICMC)" target="blank"><img src="img/icmc.png" border="0" height="55" alt="ICMC"></a>
        <a href="https://www.soprabanking.com/" title="Sopra Banking Software" target="blank"><img src="img/sbs.png" border="0" height="38" alt="Sopra Banking Software"></a>
        <div class="cleaner"></div>
      </footer> -->
    </section>

    <script>
      // Tabs simples
      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabPanels = document.querySelectorAll('.tab-panel');
      tabButtons.forEach((btn) => {
        btn.addEventListener('click', () => {
          tabButtons.forEach((b) => b.setAttribute('aria-selected', 'false'));
          btn.setAttribute('aria-selected', 'true');
          tabPanels.forEach((p) => p.classList.remove('active'));
          document.getElementById(btn.getAttribute('aria-controls')).classList.add('active');
        });
      });
    </script>

    <script>
  // Constr√≥i os cart√µes de √°udio a partir dos atributos data-* em cada .audio-grid
  function buildAudioGrids() {
    const grids = document.querySelectorAll('.audio-grid');
    grids.forEach(grid => {
      const base = grid.getAttribute('data-base');
      /** @type {{label:string,prefix:string,start:number,end:number}[]} */
      const groups = JSON.parse(grid.getAttribute('data-groups') || '[]');
      groups.forEach(group => {
        for (let i = group.start; i <= group.end; i++) {
          const filename = `${group.prefix}${i}.wav`;
          const card = document.createElement('div');
          card.className = 'audio-card';

          const label = document.createElement('span');
          label.className = 'fn';
          label.textContent = (group.label ? String(group.label).toLowerCase() : 'audio');

          const audio = document.createElement('audio');
          audio.controls = true;
          audio.src = `${base}/${filename}`;
          audio.preload = 'none';

          card.appendChild(label);
          card.appendChild(audio);
          grid.appendChild(card);
        }
      });
    });
  }

  // Inicializa quando a aba "Por voz" estiver ativa pela primeira vez
  const painelVoz = document.getElementById('painel-voz');
  let audiosBuilt = false;
  const ensureBuild = () => { if (!audiosBuilt) { buildAudioGrids(); audiosBuilt = true; } };
  if (painelVoz.classList.contains('active')) ensureBuild();
  document.getElementById('tab-voz').addEventListener('click', ensureBuild);
</script>


<script>
  // --- POR EMO√á√ÉO ---
  const EMOTION_LABELS = {
    'angry': 'Raiva',
    'fear': 'Medo',
    'happy': 'Felicidade',
    'sad': 'Tristeza',
    'surprise': 'Surpresa',
    'neutral': 'Neutro'
  };
  const EMOTION_ORDER = ['angry','fear','happy','sad','surprise','neutral'];

  // Configura√ß√£o dos datasets baseada na estrutura de pastas existente
  const DATASETS = {
    // Dublagem: {
    //   base: 'audios_demo/emocao/dublagem',
    //   genders: {
    //     female: {
    //       displayPrefix: 'feminino',
    //       byEmotion: {
    //         angry: [
    //           { id: '50', groupId: 50, refFile: '9075656efc.wav', samples: ['angry_50-0.wav','angry_50-5.wav','angry_50-6.wav'] },
    //           { id: '56', groupId: 56, refFile: '227e980cda.wav', samples: ['angry_56-2.wav','angry_56-3.wav','angry_56-8.wav'] }
    //         ],
    //         fear: [
    //           { id: '27', groupId: 27, refFile: '93d53c3da4.wav', samples: ['fear_27-5.wav','fear_27-7.wav','fear_27-8.wav'] },
    //           { id: '53', groupId: 53, refFile: 'd724b914b9.wav', samples: ['fear_53-5.wav','fear_53-7.wav','fear_53-8.wav'] }
    //         ],
    //         happy: [
    //           { id: '38', groupId: 38, refFile: '7bb653bf39.wav', samples: ['happy_38-2.wav','happy_38-5.wav','happy_38-9.wav'] },
    //           { id: '48', groupId: 48, refFile: '80cab7dda5.wav', samples: ['happy_48-5.wav','happy_48-6.wav','happy_48-8.wav'] },
    //           { id: '49', groupId: 49, refFile: '49194a6615.wav', samples: ['happy_49-4.wav','happy_49-5.wav','happy_49-9.wav'] }
    //         ],
    //         sad: [
    //           { id: '40', groupId: 40, refFile: 'f7342f70e4.wav', samples: ['sad_40-0.wav','sad_40-7.wav','sad_40-9.wav'] },
    //           // { id: '43', groupId: 43, refFile: 'c287ad9214.wav', samples: ['sad_43-0.wav','sad_43-1.wav','sad_43-2.wav','sad_43-3.wav','sad_43-4.wav','sad_43-5.wav','sad_43-6.wav','sad_43-7.wav','sad_43-8.wav','sad_43-9.wav'] },
    //           { id: '51', groupId: 51, refFile: 'f9fc95197b.wav', samples: ['sad_51-3.wav','sad_51-4.wav','sad_51-7.wav'] },
    //           { id: '52', groupId: 52, refFile: '4296e717f5.wav', samples: ['sad_52-6.wav','sad_52-7.wav','sad_52-8.wav'] }
    //         ],
    //         surprise: [
    //           { id: '26', groupId: 26, refFile: 'ffb08db167.wav', samples: ['surprise_26-4.wav','surprise_26-8.wav','surprise_26-9.wav'] },
    //           { id: '36', groupId: 36, refFile: '592cd7c510.wav', samples: ['surprise_36-2.wav','surprise_36-7.wav','surprise_36-9.wav'] },
    //           { id: '37', groupId: 37, refFile: 'c6e50e472f.wav', samples: ['surprise_37-2.wav','surprise_37-7.wav','surprise_37-9.wav'] }
    //         ]
    //       }
    //     },
    //     male: {
    //       displayPrefix: 'masculino',
    //       byEmotion: {
    //         angry: [
    //           { id: '0', groupId: 0, refFile: '2934e86276.wav', samples: ['angry_0-0.wav','angry_0-4.wav','angry_0-6.wav'] },
    //           { id: '1', groupId: 1, refFile: '8bef5fe262.wav', samples: ['angry_1-1.wav','angry_1-2.wav','angry_1-3.wav'] },
    //           { id: '3', groupId: 3, refFile: 'f86b21b285.wav', samples: ['angry_3-6.wav','angry_3-7.wav','angry_3-8.wav'] },
              
    //         ],
    //         fear: [
    //           { id: '4', groupId: 4, refFile: '5f40613cc9.wav', samples: ['fear_4-1.wav','fear_4-5.wav','fear_4-9.wav'] },
    //           { id: '15', groupId: 15, refFile: '3c0d3ba72c.wav', samples: ['fear_15-1.wav','fear_15-4.wav','fear_15-6.wav'] }
    //         ],
    //         happy: [
    //           { id: '2', groupId: 2, refFile: null, samples: ['happy_2-4.wav','happy_2-8.wav','happy_2-9.wav'] },
    //           { id: '16', groupId: 16, refFile: '515937ef07.wav', samples: ['happy_16-2.wav','happy_16-4.wav','happy_16-9.wav'] }
    //         ]
    //       }
    //     }
    //   }
    // },
    
    EmoUERJ: {
      base: 'audios_demo/emocao/EmoUERJ',
      genders: {
        masculino: {
          displayPrefix: 'masculino',
          byEmotion: {
            angry: [
              { id: 'ator1', actor:'ator1', refFile: '0023_4.wav', samples: ['angry_91-4.wav','angry_91-6.wav'] },
              { id: 'ator2', actor:'ator2', refFile: '0146_5.wav', samples: ['angry_85-3.wav','angry_85-5.wav','angry_85-6.wav'] },
              { id: 'ator3', actor:'ator3', refFile: '0088_0.wav', samples: ['angry_92-1.wav','angry_92-4.wav','angry_92-5.wav'] }
            ],
            happy: [
              { id: 'ator1', actor:'ator1', refFile: '0153_5.wav', samples: ['happy_59-4.wav','happy_59-6.wav','happy_59-9.wav'] }
            ],
            neutral: [
              { id: 'ator1', actor:'ator1', refFile: '0206_2.wav', samples: ['neutral_69-2.wav','neutral_69-4.wav','neutral_69-5.wav'] },
              { id: 'ator2', actor:'ator2', refFile: '0182_5.wav', samples: ['neutral_70-3.wav','neutral_70-6.wav','neutral_70-7.wav'] },
              { id: 'ator3', actor:'ator3', refFile: '0173_5.wav', samples: ['neutral_68-1.wav','neutral_68-5.wav','neutral_68-7.wav'] }
            ],
            sad: [
              { id: 'ator1', actor:'ator1', refFile: '0053_0.wav', samples: ['sad_75-5.wav','sad_75-6.wav','sad_75-7.wav'] },
              { id: 'ator2', actor:'ator2', refFile: null, samples: ['sad_76-6.wav','sad_76-7.wav','sad_76-9.wav'] },
              { id: 'ator3', actor:'ator3', refFile: '0050_0.wav', samples: ['sad_77-2.wav','sad_77-4.wav','sad_77-6.wav'] },
              { id: 'ator4', actor:'ator4', refFile: null, samples: ['sad_80-1.wav','sad_80-4.wav','sad_80-9.wav'] }
            ]
          }
        },
        feminino: {
          displayPrefix: 'feminino',
          byEmotion: {
            angry: [
              { id: 'ator1', actor:'ator1', refFile: null, samples: ['angry_98-4.wav'] }
            ],
            happy: [
              { id: 'ator1', actor:'ator1', refFile: '0343_7.wav', samples: ['happy_64-0.wav','happy_64-2.wav','happy_64-8.wav'] }
            ],
            neutral: [
              { id: 'ator1', actor:'ator1', refFile: '0322_3.wav', samples: ['neutral_71-4.wav','neutral_71-6.wav','neutral_71-8.wav'] }
            ],
            sad: [
              { id: 'ator1', actor:'ator1', refFile: '0090_6.wav', samples: ['sad_83-0.wav','sad_83-2.wav','sad_83-6.wav'] }
            ]
          }
        }
      }
    }
  };

  function ensureEmotionSelectorOptions() {
    const sel = document.getElementById('sel-pasta');
    if (!sel || sel.dataset.inited === '1') return;
    sel.innerHTML = '';
    const optAll = document.createElement('option');
    optAll.value = 'ALL';
    optAll.textContent = 'Todos';
    sel.appendChild(optAll);
    Object.keys(DATASETS).forEach(ds => {
      const opt = document.createElement('option');
      opt.value = ds;
      opt.textContent = ds;
      sel.appendChild(opt);
    });
    sel.dataset.inited = '1';
  }

  function buildEmotionMatrix(selectedDataset = 'ALL') {
    const container = document.getElementById('emotion-matrix');
    container.innerHTML = '';

    const datasetsToShow = selectedDataset === 'ALL' ? Object.keys(DATASETS) : [selectedDataset];

    const voiceNumberMap = {}; // {dataset:{gender:{id:num}}}
    const voiceCounters = {}; // {dataset:{gender:count}}

    function getVoiceNumber(datasetName, gender, uniqueId) {
      voiceNumberMap[datasetName] ||= {};
      voiceCounters[datasetName] ||= {};
      voiceNumberMap[datasetName][gender] ||= {};
      voiceCounters[datasetName][gender] ||= 5;
      if (!(uniqueId in voiceNumberMap[datasetName][gender])) {
        const n = voiceCounters[datasetName][gender];
        voiceNumberMap[datasetName][gender][uniqueId] = n;
        voiceCounters[datasetName][gender] = n + 1;
      }
      return voiceNumberMap[datasetName][gender][uniqueId];
    }

    datasetsToShow.forEach(dsName => {
      const ds = DATASETS[dsName];
      if (!ds) return;

      // Dataset como bloco "model-voice" para manter consist√™ncia visual
      const dsDetails = document.createElement('details');
      dsDetails.className = 'model-voice';
      dsDetails.setAttribute('open','');
      const dsSummary = document.createElement('summary');
      dsSummary.textContent = dsName;
      dsDetails.appendChild(dsSummary);

      const dsContent = document.createElement('div');
      dsContent.className = 'model-content';

      EMOTION_ORDER.forEach(em => {
        const gendersKeys = Object.keys(ds.genders);
        const hasVoices = gendersKeys.some(g => (ds.genders[g].byEmotion[em] || []).length);
        if (!hasVoices) return;

        // Emo√ß√£o como sub-bloco colaps√°vel no mesmo estilo
        const emoDetails = document.createElement('details');
        emoDetails.className = 'model-voice';
        emoDetails.classList.add(`emo-${em}`);
        emoDetails.setAttribute('open','');
        const emoSummary = document.createElement('summary');
        emoSummary.textContent = EMOTION_LABELS[em] || em;
        emoDetails.appendChild(emoSummary);

        const emoContent = document.createElement('div');
        emoContent.className = 'model-content';

        gendersKeys.forEach(gender => {
          const genderCfg = ds.genders[gender];
          const voiceList = genderCfg.byEmotion[em] || [];
          voiceList.forEach(v => {
            const voiceNum = getVoiceNumber(dsName, gender, v.id);
            const voiceName = `${genderCfg.displayPrefix} ${voiceNum}`;

            // Painel de voz no estilo do "Por modelo"
            const panel = document.createElement('div');
            panel.className = 'voice-panel';
            panel.classList.add(`emo-${em}`);

            // Cabe√ßalho com chips de contexto
            const chips = document.createElement('div');
            chips.className = 'chips';
            const chipDs = document.createElement('span'); chipDs.className = 'chip'; chipDs.textContent = dsName;
            const chipEm = document.createElement('span'); chipEm.className = 'chip chip-cap'; chipEm.textContent = EMOTION_LABELS[em] || em;
            const chipGen = document.createElement('span'); chipGen.className = 'chip'; chipGen.textContent = genderCfg.displayPrefix;
            const chipVoice = document.createElement('span'); chipVoice.className = 'chip'; chipVoice.textContent = voiceName;
            chips.appendChild(chipDs);
            chips.appendChild(chipEm);
            chips.appendChild(chipGen);
            chips.appendChild(chipVoice);
            panel.appendChild(chips);

            // √Åudio de refer√™ncia (quando existir)
            if (v.refFile) {
              const refContainer = document.createElement('div');
              refContainer.className = 'ref-audio';
              const refAudio = document.createElement('audio');
              refAudio.controls = true;
              refAudio.preload = 'none';
              if (dsName === 'EmoUERJ') {
                refAudio.src = `${ds.base}/${em}/${gender}/${v.actor}/referencia/${v.refFile}`;
              }
              // else if (dsName === 'Dublagem') {
              //   refAudio.src = `${ds.base}/${gender}/${em}/${v.groupId}/referencia/${v.refFile}`;
              // }
              const refLabel = document.createElement('span');
              refLabel.textContent = '√Åudio de refer√™ncia';
              refContainer.appendChild(refAudio);
              refContainer.appendChild(refLabel);
              panel.appendChild(refContainer);
            }

            // Grid de amostras no estilo "model-grid" + "model-card"
            const samplesGrid = document.createElement('div');
            samplesGrid.className = 'model-grid';
            (v.samples || []).forEach(fn => {
              const card = document.createElement('div');
              card.className = 'model-card';
              const audio = document.createElement('audio');
              audio.controls = true;
              audio.preload = 'none';
              if (dsName === 'EmoUERJ') {
                audio.src = `${ds.base}/${em}/${gender}/${v.actor}/${fn}`;
              }
              // else if (dsName === 'Dublagem') {
              //   audio.src = `${ds.base}/${gender}/${em}/${v.groupId}/${fn}`;
              // } 
              
              const label = document.createElement('span');
              label.className = 'filename';
              label.textContent = fn;
              card.appendChild(audio);
              card.appendChild(label);
              samplesGrid.appendChild(card);
            });
            panel.appendChild(samplesGrid);

            emoContent.appendChild(panel);
          });
        });

        emoDetails.appendChild(emoContent);
        dsContent.appendChild(emoDetails);
      });

      dsDetails.appendChild(dsContent);
      container.appendChild(dsDetails);
    });
  }

  // Inicializa√ß√£o da aba "Por emo√ß√£o"
  const selPasta = document.getElementById('sel-pasta');
  const painelEmocao = document.getElementById('painel-emocao');
  let emotionBuilt = false;
  function ensureEmotionBuild() {
    ensureEmotionSelectorOptions();
    if (!emotionBuilt) {
      buildEmotionMatrix(selPasta.value || 'ALL');
      emotionBuilt = true;
    }
  }
  document.getElementById('tab-emocao').addEventListener('click', ensureEmotionBuild);
  if (painelEmocao.classList.contains('active')) ensureEmotionBuild();
  if (selPasta) selPasta.addEventListener('change', () => buildEmotionMatrix(selPasta.value));
</script>

<style>
  /* opcional: deixa o bloco do √°udio de refer√™ncia bonitinho */
  .ref-audio {
    display:flex; align-items:center; gap:10px;
    margin: 6px 0 14px;
    padding:10px; border:1px solid var(--border); border-radius:10px; background: var(--surface);
    font-weight:600; color: var(--text);
  }
  .ref-audio audio { width: 320px; max-width: 100%; border-radius: 8px; }
</style>

<script>
  // --- POR MODELO (com √°udio de refer√™ncia por voz + sequ√™ncia de legendas) ---
  const MODEL_BASE_ROOT = 'audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2';

  // >>> Base dos √°udios de refer√™ncia (ajuste se mudar a pasta)
  const REF_BASE_ROOT = 'audios_demo/Ermis/audios_gerados_spark_tts/output1';
  // >>> Arquivos de refer√™ncia por voz/pasta (TROQUE os nomes conforme os seus arquivos)
  const REF_VOICE_FILES = {
    'female-alc-dub':  'example_female_dub_2.wav',     // Voz Feminina 01
    'female-alc-dub-2':'example_female_dub_3_v2.wav',  // Voz Feminina 02
    'male-alc-dub':    'example_male_dub.wav',         // Voz Masculina 01
    'male-alc-dub-2':  'example_male_dub_2.wav'        // Voz Masculina 02
  };

  const CAPTIONS = {
    raiva: [
      "Eu j√° t√¥ exausto de promessas vazias; chega de desculpas, eu quero resultado agora.",
      "Se empurraram esse problema pra amanh√£ de novo, eu vou bater a porta com for√ßa.",
      "N√£o me venha com meia-verdade; a verdade inteira d√≥i, mas resolve.",
      "Horas de fila, zero respeito: √© assim que tratam quem paga a conta?",
      "Falar √© f√°cil; dif√≠cil √© encarar o caos que voc√™s mesmos criaram.",
      "Pare de culpar o tr√¢nsito; o atraso √© de quem nunca se planeja.",
      "Quando a paci√™ncia acaba, at√© o sil√™ncio vira grito preso na garganta.",
      "Prometeram transpar√™ncia, mas trancaram tudo a sete chaves; que piada amarga.",
      "Eu avisei mil vezes; agora consertem o estrago sem choror√¥.",
      "Batem no peito por efici√™ncia, mas trope√ßam no b√°sico, todos os dias.",
      "Se √© pra fingir que est√° tudo bem, prefiro o barulho da revolta.",
      "Chega de empurrar com a barriga; ou enfrentamos isso, ou afundamos juntos.",
      "Voc√™ me cobra calma, mas foi voc√™ quem riscou o f√≥sforo.",
      "A cada desculpa nova, minha vontade de ir embora cresce mais um palmo.",
      "O rel√≥gio marcou 23:47 e ainda estou aqui, preso √† sua desorganiza√ß√£o."
    ],
    emocao: [
      "Quando a chuva tocou a janela, senti sua aus√™ncia como um eco longo no peito.",
      "Ela segurou a carta com dedos tr√™mulos e sorriu como quem reencontra o pr√≥prio nome.",
      "No sil√™ncio da madrugada, a cidade respirou fundo e me emprestou coragem.",
      "Eu tentei ser forte, mas a saudade atravessou a sala como um rel√¢mpago manso.",
      "Se a vida pedir paci√™ncia, eu prometo ficar, mesmo que a noite demore a passar.",
      "Quando ele disse 'volto logo', o rel√≥gio aprendeu a andar devagar.",
      "Entre o caf√© amargo e o abra√ßo tardio, descobri que ainda sei recome√ßar.",
      "Ela achou beleza nas rachaduras da parede e chamou aquilo de casa.",
      "Se eu me perder, que seja no sussurro do seu riso, onde tudo faz sentido.",
      "Eu vi o mar e pensei no futuro; a mar√© subia como um convite √† mudan√ßa.",
      "A esperan√ßa cabe inteira num gesto pequeno: um copo d'√°gua, uma porta aberta.",
      "Ele chorou em sil√™ncio, e mesmo assim a sala ficou cheia de tempestade.",
      "Quando a m√∫sica come√ßou, a mem√≥ria abriu janelas que eu nem lembrava que existiam.",
      "Se o medo apertar, respira comigo; prometo que o mundo fica menor.",
      "No primeiro raio de sol, percebi: sobrevivi √† noite, e isso j√° √© vit√≥ria."
    ],
    medo: [
      "Por causa do tr√¢nsito intenso, chegamos √† reuni√£o um pouco atrasados.",
      "Se voc√™ quiser ter sucesso, deve estar preparado para trabalhar muito duro e manter o foco.",
      "Antes de sair de f√©rias, lembre-se de regar as plantas e trancar todas as portas.",
      "Eu tentei ser forte, mas a saudade atravessou a sala como um rel√¢mpago manso.",
      "Se a vida pedir paci√™ncia, eu prometo ficar, mesmo que a noite demore a passar.",
      "Quando ele disse 'volto logo', o rel√≥gio aprendeu a andar devagar.",
      "Entre o caf√© amargo e o abra√ßo tardio, descobri que ainda sei recome√ßar.",
      "Ela achou beleza nas rachaduras da parede e chamou aquilo de casa.",
      "Se eu me perder, que seja no sussurro do seu riso, onde tudo faz sentido.",
      "Eu vi o mar e pensei no futuro; a mar√© subia como um convite √† mudan√ßa.",
      "A esperan√ßa cabe inteira num gesto pequeno: um copo d'√°gua, uma porta aberta.",
      "Ele chorou em sil√™ncio, e mesmo assim a sala ficou cheia de tempestade.",
      "Quando a m√∫sica come√ßou, a mem√≥ria abriu janelas que eu nem lembrava que existiam.",
      "Se o medo apertar, respira comigo; prometo que o mundo fica menor.",
      "No primeiro raio de sol, percebi: sobrevivi √† noite, e isso j√° √© vit√≥ria."
    ],
    portuguese_sentences_mid_long : [
      "Embora estivesse chovendo, eles decidiram passear na floresta.",
      "Por causa do tr√¢nsito intenso, chegamos √† reuni√£o um pouco atrasados.",
      "Mesmo se sentindo cansada, ela continuou a trabalhar em seu projeto at√© tarde da noite.",
      "Se voc√™ quer ter sucesso, deve estar preparado para trabalhar muito duro e manter o foco.",
      "Antes de sair de f√©rias, lembre-se de regar as plantas e trancar todas as portas.",
      "Depois de terminar o trabalho, ele relaxou ouvindo m√∫sica cl√°ssica e lendo um livro.",
      "Enquanto as crian√ßas brincavam no jardim, seus pais preparavam o almo√ßo na cozinha.",
      "Apesar das dificuldades, eles conseguiram concluir o projeto com sucesso e no prazo.",
      "Considerando a previs√£o do tempo, pode ser uma boa ideia levar um guarda-chuva com voc√™ hoje.",
      "Para melhorar suas habilidades de comunica√ß√£o, pratique falar em p√∫blico e ou√ßa ativamente os outros.",
      "Para atingir seus objetivos, √© importante definir metas realistas e criar um plano.",
      "Sempre que me sinto estressado, gosto de dar uma caminhada no parque ou ouvir m√∫sica calmante.",
      "Assim que o filme come√ßou, as luzes diminu√≠ram e todos ficaram quietos no teatro.",
      "Como era feriado, muitas fam√≠lias decidiram passar o dia na praia ou no campo.",
      "Antes de tomar uma decis√£o, √© sempre sensato considerar todas as op√ß√µes e resultados poss√≠veis.",
      "Embora nunca tivesse tentado antes, ele achou o snowboard surpreendentemente divertido e emocionante.",
      "Como ela era muito organizada e eficiente, sempre conseguia terminar suas tarefas rapidamente.",
      "Mesmo que o restaurante estivesse lotado, eles encontraram uma mesa agrad√°vel perto da janela com uma √≥tima vista.",
      "Se voc√™ est√° planejando viajar para o exterior, √© essencial ter um passaporte v√°lido e quaisquer vistos necess√°rios.",
      "Antes de iniciar qualquer novo programa de exerc√≠cios, √© aconselh√°vel consultar seu m√©dico ou um especialista em fitness.",
      "Depois de passar muitos anos morando na cidade, eles decidiram se mudar para uma vila tranquila e pac√≠fica.",
      "Enquanto o chef preparava o prato principal, os gar√ßons estavam preparando as mesas para a noite.",
      "Apesar dos contratempos iniciais, a equipe perseverou e acabou atingindo seus objetivos de longo prazo.",
      "Considerando a complexidade da situa√ß√£o, √© importante abordar o problema com planejamento e estrat√©gia cuidadosos.",
      "Para garantir o sucesso do evento, precisamos coordenar todos os diferentes aspectos e trabalhar juntos de forma eficaz."
    ]
  };

  const DEFAULT_CAP_BY_GROUP = { 'Impact': 'raiva', 'Sad': 'emocao', 'Mid-Long': 'emocao' };

  /* R√≥tulos amig√°veis para exibir a emo√ß√£o do texto */
  const CAPTION_DISPLAY = {
    raiva: 'Raiva',
    emocao: 'Emo√ß√£o',
    medo: 'Medo',
    portuguese_sentences_mid_long: 'Mid-Long (texto)'
  };

  // Sequ√™ncia por grupo (1-based) ‚Äî edite √† vontade:
  const MODEL_VOICES = [
    { folder: 'female-alc-dub', label: 'Voz Feminina 01',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [1,5,12] },
        { label: 'Sad',     prefix: 'pt_sad_',      start: 0, end: 2, cap: 'emocao', capSeq: [2,7,13] }
      ]
    },
    { folder: 'female-alc-dub-2', label: 'Voz Feminina 02',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [3,9,14] },
        { label: 'Sad',     prefix: 'pt_sad_',      start: 0, end: 2, cap: 'emocao', capSeq: [1,4,13] }
      ]
    },
    { folder: 'male-alc-dub', label: 'Voz Masculina 01',
      groups: [
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 5, cap: 'portuguese_sentences_mid_long', capSeq: [2,6,5,13,15,17] },
      ]
    },
    { folder: 'male-alc-dub-2', label: 'Voz Masculina 02',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [1,3,4] },
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 2, cap: 'portuguese_sentences_mid_long', capSeq: [2,4,21] },
      ]
    }
  ];

  // Rota√ß√£o por chave din√¢mica
  const capIndex = {};
  function nextCaption(key) {
    const arr = CAPTIONS[key] || [];
    if (!arr.length) return '';
    capIndex[key] = (capIndex[key] || 0);
    const i = capIndex[key] % arr.length;
    capIndex[key] += 1;
    return arr[i];
  }

  // Pega legenda segundo a sequ√™ncia do grupo; se n√£o houver, usa rota√ß√£o
  function getCaptionFor(capKey, group, fileIdx) {
    const arr = CAPTIONS[capKey] || [];
    if (!arr.length) return '';
    if (Array.isArray(group.capSeq) && group.capSeq.length) {
      const localPos = (fileIdx - group.start);
      const chosenOneBased = group.capSeq[ localPos % group.capSeq.length ];
      const chosenZeroBased = Math.max(1, Number(chosenOneBased) || 1) - 1;
      return arr[ chosenZeroBased % arr.length ];
    }
    return nextCaption(capKey);
  }

  // === AJUSTE: cada cart√£o mostra tamb√©m o "grupo" e a "emo√ß√£o do texto"
  function buildModelPanel() {
    const wrap = document.getElementById('modelo-wrap');
    if (!wrap) return;
    wrap.innerHTML = '';

    // zera √≠ndices de rota√ß√£o
    Object.keys(CAPTIONS).forEach(k => capIndex[k] = 0);

    MODEL_VOICES.forEach((v, idx) => {
      // Cria bloco colaps√°vel por voz
      const det = document.createElement('details');
      det.className = 'model-voice';
      if (idx === 0) det.setAttribute('open', ''); // opcional: primeira aberta

      const sum = document.createElement('summary');
      sum.textContent = v.label;
      det.appendChild(sum);

      // Conte√∫do da voz
      const content = document.createElement('div');
      content.className = 'model-content';

      // √Åudio de refer√™ncia por voz (se houver)
      const refName = REF_VOICE_FILES[v.folder];
      if (refName) {
        const ref = document.createElement('div');
        ref.className = 'ref-audio';

        const audioRef = document.createElement('audio');
        audioRef.controls = true;
        audioRef.preload = 'none';
        audioRef.src = `${REF_BASE_ROOT}/${refName}`;

        const tag = document.createElement('span');
        tag.textContent = '√Åudio de refer√™ncia';

        ref.appendChild(audioRef);
        ref.appendChild(tag);
        content.appendChild(ref);
      }

      // Grid de cart√µes (√°udio + chips + legenda)
      const grid = document.createElement('div');
      grid.className = 'model-grid';

      v.groups.forEach(g => {
        const capKey = g.cap || DEFAULT_CAP_BY_GROUP[g.label] || 'emocao';
        const capLabel = CAPTION_DISPLAY[capKey] || capKey;

        for (let i = g.start; i <= g.end; i++) {
          const filename = `${g.prefix}${i}.wav`;

          const card = document.createElement('div');
          card.className = 'model-card';

          // Chips de metadados
          const chips = document.createElement('div');
          chips.className = 'chips';

          const chipGroup = document.createElement('span');
          chipGroup.className = 'chip chip-group';
          chipGroup.textContent = g.label; // Impact / Sad / Mid-Long


          chips.appendChild(chipGroup);
         

          // Player de √°udio
          const audio = document.createElement('audio');
          audio.controls = true;
          audio.preload = 'none';
          audio.src = `${MODEL_BASE_ROOT}/${v.folder}/output/${filename}`;

          // Legenda (frase) escolhida
          const line = document.createElement('p');
          line.textContent = getCaptionFor(capKey, g, i);

          // Monta o cart√£o
          card.appendChild(chips);
          card.appendChild(audio);
          card.appendChild(line);
          grid.appendChild(card);
        }
      });

      content.appendChild(grid);
      det.appendChild(content);
      wrap.appendChild(det);
    });
  }

  // Carrega quando abrir a aba
  const tabModeloBtn = document.getElementById('tab-modelo');
  const painelModelo = document.getElementById('painel-modelo');
  let modelBuilt = false;
  function ensureModelBuild() { if (!modelBuilt) { buildModelPanel(); modelBuilt = true; } }
  tabModeloBtn.addEventListener('click', ensureModelBuild);
  if (painelModelo.classList.contains('active')) ensureModelBuild();
</script>

    <script>
      (function() {
        const root = document.documentElement;
        const btn = document.getElementById('theme-toggle');
        function resolveInitialTheme() {
          const saved = localStorage.getItem('theme');
          if (saved === 'dark' || saved === 'light') return saved;
          return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        function applyTheme(theme) {
          root.setAttribute('data-theme', theme);
          localStorage.setItem('theme', theme);
          if (btn) btn.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }
        const initial = resolveInitialTheme();
        applyTheme(initial);
        if (btn) {
          btn.addEventListener('click', () => {
            const next = (root.getAttribute('data-theme') === 'dark') ? 'light' : 'dark';
            applyTheme(next);
          });
        }
      })();
    </script>
    <script src="js/animheader.js"></script>
  </body>
</html>