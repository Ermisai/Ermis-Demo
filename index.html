<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <title>Ermis TTS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="shortcut icon" type="image/x-icon" href="favicons/favicon.ico">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <style>
      :root {
        --tab-bg: #0f172a; /* slate-900 */
        --tab-muted: #1e293b; /* slate-800 */
        --tab-accent: #22d3ee; /* cyan-400 */
        --tab-text: #e2e8f0; /* slate-200 */
        --bd: #243041; /* border */
      }
      body { font-family: "Open Sans", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }

      /* --- Tabs --- */
      .tabs { margin: 24px auto 0; max-width: 1400px; width: calc(100% - 32px); background: #ffffff; border: 1px solid #e5e7eb; border-radius: 14px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,.08); }
      .tab-header { display: flex; flex-wrap: wrap; background: #f1f5f9; }
      .tab-btn { appearance: none; background: transparent; color: #0f172a; padding: 14px 18px; font-weight: 700; border: 0; cursor: pointer; position: relative; }
      .tab-btn[aria-selected="true"] { color: #0f172a; }
      .tab-btn[aria-selected="true"]::after { content: ""; position: absolute; left: 12px; right: 12px; bottom: 0; height: 3px; background: var(--tab-accent); border-radius: 3px 3px 0 0; }
      .tab-panel { display: none; padding: 22px; background: transparent; color: #0f172a; }
      .tab-panel.active { display: block; }

      /* Audio grid */
      .audio-folder { margin: 8px 0 0; border-top: 1px solid #e5e7eb; }
      .audio-folder summary { cursor: pointer; padding: 14px 18px; font-weight: 700; list-style: none; color: #0f172a; }
      .audio-folder summary::-webkit-details-marker { display: none; }
      .audio-folder summary span { opacity: .9; font-weight: 600; font-size: .95rem; color: #334155; }
      .audio-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 12px; padding: 0 18px 18px; }
      .audio-card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px; }
      .audio-card .fn { display: block; font-size: .85rem; opacity: .85; margin-bottom: 6px; word-break: break-all; }
      .audio-card audio { width: 100%; }

      /* Emoção: layout em 2 colunas (Voz | Emoção) */
      .emotion-controls { display:flex; align-items:center; gap:10px; padding: 0 0 16px 0; }
      .emotion-select { background:#ffffff; color:#0f172a; border:1px solid #e5e7eb; border-radius:8px; padding:8px 10px; }
      .emotion-matrix { display: grid; grid-template-columns: 220px 1fr 1fr; gap: 12px; align-items: start; }
      .emotion-row { display: contents; }
      .col-voice { background:#ffffff; border:1px solid #e5e7eb; border-radius:10px; padding:12px 14px; color:#0f172a; font-weight:700; }
      .col-emotion { background:#ffffff; border:1px solid #e5e7eb; border-radius:10px; padding:10px; }
      .col-head { background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; padding:10px 14px; font-weight:800; color:#0f172a; }
      .emotion-group { border:1px solid #e5e7eb; border-radius:10px; margin:8px 0; padding:10px; }
      .emotion-group h4 { margin:0 0 8px 0; color:#0f172a; }
      .emotion-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:10px; }
      .placeholder { opacity:.5; text-align:center; padding:12px; }
      .emotion-row { display: contents; }
      .col-voice { background:#ffffff; border:1px solid #e5e7eb; border-radius:10px; padding:12px 14px; color:#0f172a; font-weight:700; }
      .col-emotion { background:#ffffff; border:1px solid #e5e7eb; border-radius:10px; padding:10px; }
      .emotion-group { border:1px solid #e5e7eb; border-radius:10px; margin:8px 0; padding:10px; }
      .emotion-group h4 { margin:0 0 8px 0; color:#0f172a; }
      .emotion-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:10px; }

      /* Header small fixes so it still looks ok */
      #page-header { position: relative; min-height: 220px; color: white; overflow: hidden; }
      #bg-header { position: absolute; inset: 0; background: radial-gradient(1200px 600px at 20% -10%, rgba(34,211,238,.25), transparent), radial-gradient(1000px 600px at 80% 0%, rgba(99,102,241,.25), transparent), linear-gradient(180deg, #0b1022 0%, #04070f 100%); }
      #demo-canvas { position: absolute; inset: 0; }
      .main-title { position: relative; z-index: 2; display: grid; place-items: center; padding: 56px 16px; text-align: center; }
      .project-name a { color: white; text-decoration: none; }
      .project-tagline { color: #c7d2fe; font-weight: 600; }
      .model-voice { 
              margin: 8px 0 0; 
              padding: 14px 18px; 
              background: #f1f5f9;
              border-top: 1px solid #e5e7eb;
              font-weight: 700;
              color: #0f172a;
              cursor: pointer;
              list-style: none;
              transition: background 0.2s ease;
      }

      .model-voice:hover {
        background: #e2e8f0;
      }
      .model-voice::-webkit-details-marker { display: none; }
      .model-voice span {
        opacity: .9;
        font-weight: 600;
        font-size: .95rem;
        color: #334155;
        margin-left: 8px;
      }
      .model-content {
        padding: 18px;
      }
      .model-grid { 
        display:grid; 
        grid-template-columns: repeat(auto-fill, minmax(320px,1fr)); 
        gap:16px; 
        margin-top: 16px;
      }
      .model-card { 
        background:#ffffff; 
        border:1px solid #e5e7eb; 
        border-radius:12px; 
        padding:14px; 
        display:flex; 
        flex-direction:column; 
        gap:10px;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(0,0,0,.06);
      }
      .model-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,.1);
        transform: translateY(-2px);
      }
      .model-card audio { 
        width:100%; 
        border-radius: 8px;
      }
      .model-card p { 
        margin:0; 
        font-size:.92rem; 
        line-height:1.5rem; 
        color:#334155;
        padding: 10px 12px;
        background: #f8fafc;
        border-radius: 8px;
        border-left: 3px solid var(--tab-accent);
      }
      .chips {
        display: flex;
        gap: 8px;
        align-items: center;
        flex-wrap: wrap;
        margin-bottom: 8px;
      }
      .chip {
        display: inline-block;
        font-size: .75rem;
        font-weight: 700;
        padding: 4px 8px;
        border-radius: 999px;
        border: 1px solid #e5e7eb;
        background: #f8fafc;
        color: #0f172a;
      }
      .chip-group { border-color: #dcfce7; background: #f0fdf4; }       /* Grupo: Impact / Sad / Mid-Long */
      .chip-cap   { border-color: #73c8f6; background: #eff6ff; }   
    </style>
  </head>
  <body>
    <section id="page-header" class="page-header">
      <div id="bg-header"></div>
      <canvas id="demo-canvas"></canvas>
      <div class="main-title">
        <h1 class="project-name"><span><a href="index.html">Ermis TTS</a></span></h1>
        <h2 class="project-tagline">Síntese neural multilíngue com clonagem de voz e controle de emoção</h2>
      </div>
    </section>

    <section class="main-content">
      <!-- Links removidos/ocultos enquanto ajustamos para Ermis -->

      <br><br>
      <div style="text-align: center;">
        <h2>Ermis TTS: The best TTS for everyone</h2>
        <p><b>Edresson Casanova, Julian Weber, Christopher Shulby, Arnaldo Candido Junior, Eren Gölge e Moacir Antonelli Ponti</b></p>
      </div>

      <h3>Descrição</h3>
      <p>
        <b>Ermis TTS</b> é um mecanismo de síntese de voz neural projetado para produção: suporta múltiplas vozes e idiomas, clonagem de voz (zero‑shot) a partir de poucos segundos de áudio e <i>style transfer</i> para emoções como <em>Impact</em>, <em>Sad</em> e variações de prosódia.
        A pilha foi otimizada para baixa latência, alto paralelismo e fácil implantação em servidores ou notebooks, mantendo qualidade natural e alta similaridade com a voz alvo. As amostras abaixo ilustram organização por voz, por emoção e por modelo.
      </p>


      <h2>Amostras Ermis-TTS</h2>

      <p><em>Importante:</em> nas abas <b>Por emoção</b> e <b>Por voz com texto</b>, o termo <b>“emoção”</b> refere-se somente ao <u>conteúdo do texto</u> (legenda) exibido — frases que evocam raiva, tristeza, medo etc. O áudio continua sendo a mesma voz/modelo; <b>não</b> aplicamos controle prosódico/estilo adicional nessas abas. Quando houver amostras com estilo de síntese (por exemplo, <code>Impact</code> ou <code>Sad</code>), isso aparecerá explicitamente no nome da pasta/arquivo (<code>pt_impact_#.wav</code>, <code>pt_sad_#.wav</code>).</p>


      <div class="tabs" role="tablist" aria-label="Amostras organizadas">
        <div class="tab-header">
          <button class="tab-btn" role="tab" aria-selected="true" aria-controls="painel-voz" id="tab-voz">Por voz</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="painel-emocao" id="tab-emocao">Por emoção</button>
          <button class="tab-btn" role="tab" aria-selected="false" aria-controls="painel-modelo" id="tab-modelo">Por voz com texto</button>
        </div>
        <div class="tab-panel active" id="painel-voz" role="tabpanel" aria-labelledby="tab-voz">
          <p>Prévia por voz, separados por pasta. Expanda uma pasta para ver os áudios.</p>

          <details class="audio-folder" open>
            <summary>Voz Feminina 01<span>— Impact & Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/female-alc-dub/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":2},{"label":"Sad","prefix":"pt_sad_","start":0,"end":2}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Feminina 02<span>— Impact & Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/female-alc-dub-2/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":2},{"label":"Sad","prefix":"pt_sad_","start":0,"end":2}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Masculina 01<span>— Mid-Long</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub/output" data-groups='[{"label":"Mid-Long","prefix":"pt_mid_long_","start":0,"end":5}]'></div>
          </details>

          <details class="audio-folder">
            <summary>Voz Masculina 02<span>— Mid-Long</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2/output" data-groups='[{"label":"Mid-Long","prefix":"pt_mid_long_","start":0,"end":2},{"label":"Impact","prefix":"pt_impact_","start":0,"end":2}]'></div>
          </details>

          <!-- <details class="audio-folder">
            <summary>male-alc-dub-2_2 <span>— Impact</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2_2/output" data-groups='[{"label":"Impact","prefix":"pt_impact_","start":0,"end":5}]'></div>
          </details> -->

          <!-- <details class="audio-folder">
            <summary>male-alc-dub-2_3 <span>— Sad</span></summary>
            <div class="audio-grid" data-base="audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2/male-alc-dub-2_3/output" data-groups='[{"label":"Sad","prefix":"pt_sad_","start":0,"end":5}]'></div>
          </details> -->
        </div>
        <div class="tab-panel" id="painel-emocao" role="tabpanel" aria-labelledby="tab-emocao">
          <div class="emotion-controls">
            <label for="sel-pasta">Escolher pasta:</label>
            <select id="sel-pasta" class="emotion-select">
              <option value="ALL">Todas</option>
              <option value="female-alc-dub">Voz Feminina 01</option>
              <option value="female-alc-dub-2">Voz Feminina 02</option>
              <option value="male-alc-dub">Voz Masculina 01</option>
              <option value="male-alc-dub-2">Voz Masculina 02</option>
            </select>
          </div>
          <div id="emotion-matrix" class="emotion-matrix" aria-live="polite"></div>
        </div>
        <div class="tab-panel" id="painel-modelo" role="tabpanel" aria-labelledby="tab-modelo">
          <div id="modelo-wrap"></div>
        </div>

      </div>

      <footer class="site-footer">
        <a href="https://coqui.ai/" title="Coqui AI" target="_blank"><img src="img/coqui.png" border="0" height="40" alt="Coqui AI"></a>
        <a href="http://www.defined.ai/" title="Defined.ai" target="_blank"><img src="img/df.jpeg" border="0" height="50" alt="Defined.ai"></a>
        <a href="http://www.deeplearningbrasil.com.br/" title="Deep Learning Brasil" target="_blank"><img src="img/dlb.png" border="0" height="50" alt="Deep Learning Brasil"></a>
        <a href="http://icmc.usp.br/" title="Institute of Mathematics and Computer Science (ICMC)" target="_blank"><img src="img/icmc.png" border="0" height="55" alt="ICMC"></a>
        <a href="https://www.soprabanking.com/" title="Sopra Banking Software" target="_blank"><img src="img/sbs.png" border="0" height="38" alt="Sopra Banking Software"></a>
        <div class="cleaner"></div>
      </footer>
    </section>

    <script>
      // Tabs simples
      const tabButtons = document.querySelectorAll('.tab-btn');
      const tabPanels = document.querySelectorAll('.tab-panel');
      tabButtons.forEach((btn) => {
        btn.addEventListener('click', () => {
          tabButtons.forEach((b) => b.setAttribute('aria-selected', 'false'));
          btn.setAttribute('aria-selected', 'true');
          tabPanels.forEach((p) => p.classList.remove('active'));
          document.getElementById(btn.getAttribute('aria-controls')).classList.add('active');
        });
      });
    </script>

    <script>
  // Constrói os cartões de áudio a partir dos atributos data-* em cada .audio-grid
  function buildAudioGrids() {
    const grids = document.querySelectorAll('.audio-grid');
    grids.forEach(grid => {
      const base = grid.getAttribute('data-base');
      /** @type {{label:string,prefix:string,start:number,end:number}[]} */
      const groups = JSON.parse(grid.getAttribute('data-groups') || '[]');
      groups.forEach(group => {
        for (let i = group.start; i <= group.end; i++) {
          const filename = `${group.prefix}${i}.wav`;
          const card = document.createElement('div');
          card.className = 'audio-card';

          const label = document.createElement('span');
          label.className = 'fn';
          label.textContent = (group.label ? String(group.label).toLowerCase() : 'audio');

          const audio = document.createElement('audio');
          audio.controls = true;
          audio.src = `${base}/${filename}`;
          audio.preload = 'none';

          card.appendChild(label);
          card.appendChild(audio);
          grid.appendChild(card);
        }
      });
    });
  }

  // Inicializa quando a aba "Por voz" estiver ativa pela primeira vez
  const painelVoz = document.getElementById('painel-voz');
  let audiosBuilt = false;
  const ensureBuild = () => { if (!audiosBuilt) { buildAudioGrids(); audiosBuilt = true; } };
  if (painelVoz.classList.contains('active')) ensureBuild();
  document.getElementById('tab-voz').addEventListener('click', ensureBuild);
</script>


   <script>
  // --- POR EMOÇÃO ---
  const VOICE_LABELS = {
    'female-alc-dub':   'Voz Feminina 01',
    'female-alc-dub-2': 'Voz Feminina 02',
    'male-alc-dub':     'Voz Masculina 01',
    'male-alc-dub-2':   'Voz Masculina 02'
  };

  const EMOTION_CONFIG = {
    baseRoot: 'audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2',
    folders: {
      'female-alc-dub': [
        { label: 'Impact', prefix: 'pt_impact_', start: 0, end: 2 },
        { label: 'Sad',    prefix: 'pt_sad_',    start: 0, end: 2 }
      ],
      'female-alc-dub-2': [
        { label: 'Impact', prefix: 'pt_impact_', start: 0, end: 2 },
        { label: 'Sad',    prefix: 'pt_sad_',    start: 0, end: 2 }
      ],
      'male-alc-dub-2': [
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 2 },
        { label: 'Impact',   prefix: 'pt_impact_',   start: 0, end: 2 }
      ],
      'male-alc-dub': [
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 5 }
      ]
    }
  };

  function buildEmotionMatrix(selection = 'ALL') {
    const container = document.getElementById('emotion-matrix');
    container.innerHTML = '';

    // Cabeçalho
    const headVoice = document.createElement('div');
    headVoice.className = 'col-voice col-head';
    headVoice.textContent = 'Voz';
    const headE1 = document.createElement('div');
    headE1.className = 'col-emotion col-head';
    headE1.textContent = 'Emoção 1';
    const headE2 = document.createElement('div');
    headE2.className = 'col-emotion col-head';
    headE2.textContent = 'Emoção 2';
    container.appendChild(headVoice);
    container.appendChild(headE1);
    container.appendChild(headE2);

    const folders = Object.keys(EMOTION_CONFIG.folders);
    const chosen = selection === 'ALL' ? folders : [selection];

    chosen.forEach(folder => {
      const groups = EMOTION_CONFIG.folders[folder] || [];

      // Coluna 1: Voz
      const voiceCell = document.createElement('div');
      voiceCell.className = 'col-voice';
      voiceCell.textContent = VOICE_LABELS[folder] || folder;

      // Colunas 2 e 3: Emoções
      const em1 = document.createElement('div'); em1.className = 'col-emotion';
      const em2 = document.createElement('div'); em2.className = 'col-emotion';

      const fillEmotion = (cell, group) => {
        if (!group) { cell.innerHTML = '<div class="placeholder">—</div>'; return; }
        const wrap = document.createElement('div');
        wrap.className = 'emotion-group';
        const h = document.createElement('h4'); h.textContent = group.label;
        const grid = document.createElement('div'); grid.className = 'emotion-grid';

        for (let i = group.start; i <= group.end; i++) {
          const filename = `${group.prefix}${i}.wav`;
          const card = document.createElement('div'); card.className = 'audio-card';
          const label = document.createElement('span'); label.className = 'fn';
          label.textContent = (group.label ? String(group.label).toLowerCase() : 'audio');
          const audio = document.createElement('audio'); audio.controls = true; audio.preload = 'none';
          audio.src = `${EMOTION_CONFIG.baseRoot}/${folder}/output/${filename}`;
          card.appendChild(label); card.appendChild(audio); grid.appendChild(card);
        }
        wrap.appendChild(h); wrap.appendChild(grid); cell.appendChild(wrap);
      };

      fillEmotion(em1, groups[0]);
      fillEmotion(em2, groups[1]);

      container.appendChild(voiceCell);
      container.appendChild(em1);
      container.appendChild(em2);
    });
  }

  // Inicialização da aba "Por emoção"
  const selPasta = document.getElementById('sel-pasta');
  const painelEmocao = document.getElementById('painel-emocao');
  let emotionBuilt = false;
  function ensureEmotionBuild() {
    if (!emotionBuilt) {
      buildEmotionMatrix(selPasta.value);
      emotionBuilt = true;
    }
  }
  document.getElementById('tab-emocao').addEventListener('click', ensureEmotionBuild);
  if (painelEmocao.classList.contains('active')) ensureEmotionBuild();
  selPasta.addEventListener('change', () => buildEmotionMatrix(selPasta.value));
</script>

<style>
  /* opcional: deixa o bloco do áudio de referência bonitinho */
  .ref-audio {
    display:flex; align-items:center; gap:10px;
    margin: 6px 0 14px;
    padding:10px; border:1px solid #e5e7eb; border-radius:10px; background:#ffffff;
    font-weight:600; color:#0f172a;
  }
  .ref-audio audio { width: 320px; max-width: 100%; }
</style>

<style>
  /* opcional: deixa o bloco do áudio de referência bonitinho */
  .ref-audio {
    display:flex; align-items:center; gap:10px;
    margin: 6px 0 14px;
    padding:10px; border:1px solid #e5e7eb; border-radius:10px; background:#ffffff;
    font-weight:600; color:#0f172a;
  }
  .ref-audio audio { width: 320px; max-width: 100%; }

  /* Chips de metadados (grupo e emoção do texto) */
  .chips {
    display: flex;
    gap: 8px;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 8px;
  }
  .chip {
    display: inline-block;
    font-size: .75rem;
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid #e5e7eb;
    background: #f8fafc;
    color: #0f172a;
  }
  .chip-group { border-color: #dcfce7; background: #f0fdf4; }  /* Grupo: Impact / Sad / Mid-Long */
  .chip-cap   { border-color: #bae6fd; background: #eff6ff; }  /* Emoção do texto: Raiva / Emoção / Medo / Mid-Long (texto) */
</style>

<script>
  // --- POR MODELO (com áudio de referência por voz + sequência de legendas) ---
  const MODEL_BASE_ROOT = 'audios_demo/Ermis/audios_gerados_spark_tts/output-enhanced-48khzv2';

  // >>> Base dos áudios de referência (ajuste se mudar a pasta)
  const REF_BASE_ROOT = 'audios_demo/Ermis/audios_gerados_spark_tts/output1';
  // >>> Arquivos de referência por voz/pasta (TROQUE os nomes conforme os seus arquivos)
  const REF_VOICE_FILES = {
    'female-alc-dub':  'example_female_dub_2.wav',     // Voz Feminina 01
    'female-alc-dub-2':'example_female_dub_3_v2.wav',  // Voz Feminina 02
    'male-alc-dub':    'example_male_dub.wav',         // Voz Masculina 01
    'male-alc-dub-2':  'example_male_dub_2.wav'        // Voz Masculina 02
  };

  const CAPTIONS = {
    raiva: [
      "Eu já tô exausto de promessas vazias; chega de desculpas, eu quero resultado agora.",
      "Se empurraram esse problema pra amanhã de novo, eu vou bater a porta com força.",
      "Não me venha com meia-verdade; a verdade inteira dói, mas resolve.",
      "Horas de fila, zero respeito: é assim que tratam quem paga a conta?",
      "Falar é fácil; difícil é encarar o caos que vocês mesmos criaram.",
      "Pare de culpar o trânsito; o atraso é de quem nunca se planeja.",
      "Quando a paciência acaba, até o silêncio vira grito preso na garganta.",
      "Prometeram transparência, mas trancaram tudo a sete chaves; que piada amarga.",
      "Eu avisei mil vezes; agora consertem o estrago sem chororô.",
      "Batem no peito por eficiência, mas tropeçam no básico, todos os dias.",
      "Se é pra fingir que está tudo bem, prefiro o barulho da revolta.",
      "Chega de empurrar com a barriga; ou enfrentamos isso, ou afundamos juntos.",
      "Você me cobra calma, mas foi você quem riscou o fósforo.",
      "A cada desculpa nova, minha vontade de ir embora cresce mais um palmo.",
      "O relógio marcou 23:47 e ainda estou aqui, preso à sua desorganização."
    ],
    emocao: [
      "Quando a chuva tocou a janela, senti sua ausência como um eco longo no peito.",
      "Ela segurou a carta com dedos trêmulos e sorriu como quem reencontra o próprio nome.",
      "No silêncio da madrugada, a cidade respirou fundo e me emprestou coragem.",
      "Eu tentei ser forte, mas a saudade atravessou a sala como um relâmpago manso.",
      "Se a vida pedir paciência, eu prometo ficar, mesmo que a noite demore a passar.",
      "Quando ele disse 'volto logo', o relógio aprendeu a andar devagar.",
      "Entre o café amargo e o abraço tardio, descobri que ainda sei recomeçar.",
      "Ela achou beleza nas rachaduras da parede e chamou aquilo de casa.",
      "Se eu me perder, que seja no sussurro do seu riso, onde tudo faz sentido.",
      "Eu vi o mar e pensei no futuro; a maré subia como um convite à mudança.",
      "A esperança cabe inteira num gesto pequeno: um copo d'água, uma porta aberta.",
      "Ele chorou em silêncio, e mesmo assim a sala ficou cheia de tempestade.",
      "Quando a música começou, a memória abriu janelas que eu nem lembrava que existiam.",
      "Se o medo apertar, respira comigo; prometo que o mundo fica menor.",
      "No primeiro raio de sol, percebi: sobrevivi à noite, e isso já é vitória."
    ],
    medo: [
      "Por causa do trânsito intenso, chegamos à reunião um pouco atrasados.",
      "Se você quiser ter sucesso, deve estar preparado para trabalhar muito duro e manter o foco.",
      "Antes de sair de férias, lembre-se de regar as plantas e trancar todas as portas.",
      "Eu tentei ser forte, mas a saudade atravessou a sala como um relâmpago manso.",
      "Se a vida pedir paciência, eu prometo ficar, mesmo que a noite demore a passar.",
      "Quando ele disse 'volto logo', o relógio aprendeu a andar devagar.",
      "Entre o café amargo e o abraço tardio, descobri que ainda sei recomeçar.",
      "Ela achou beleza nas rachaduras da parede e chamou aquilo de casa.",
      "Se eu me perder, que seja no sussurro do seu riso, onde tudo faz sentido.",
      "Eu vi o mar e pensei no futuro; a maré subia como um convite à mudança.",
      "A esperança cabe inteira num gesto pequeno: um copo d'água, uma porta aberta.",
      "Ele chorou em silêncio, e mesmo assim a sala ficou cheia de tempestade.",
      "Quando a música começou, a memória abriu janelas que eu nem lembrava que existiam.",
      "Se o medo apertar, respira comigo; prometo que o mundo fica menor.",
      "No primeiro raio de sol, percebi: sobrevivi à noite, e isso já é vitória."
    ],
    portuguese_sentences_mid_long : [
      "Embora estivesse chovendo, eles decidiram passear na floresta.",
      "Por causa do trânsito intenso, chegamos à reunião um pouco atrasados.",
      "Mesmo se sentindo cansada, ela continuou a trabalhar em seu projeto até tarde da noite.",
      "Se você quer ter sucesso, deve estar preparado para trabalhar muito duro e manter o foco.",
      "Antes de sair de férias, lembre-se de regar as plantas e trancar todas as portas.",
      "Depois de terminar o trabalho, ele relaxou ouvindo música clássica e lendo um livro.",
      "Enquanto as crianças brincavam no jardim, seus pais preparavam o almoço na cozinha.",
      "Apesar das dificuldades, eles conseguiram concluir o projeto com sucesso e no prazo.",
      "Considerando a previsão do tempo, pode ser uma boa ideia levar um guarda-chuva com você hoje.",
      "Para melhorar suas habilidades de comunicação, pratique falar em público e ouça ativamente os outros.",
      "Para atingir seus objetivos, é importante definir metas realistas e criar um plano.",
      "Sempre que me sinto estressado, gosto de dar uma caminhada no parque ou ouvir música calmante.",
      "Assim que o filme começou, as luzes diminuíram e todos ficaram quietos no teatro.",
      "Como era feriado, muitas famílias decidiram passar o dia na praia ou no campo.",
      "Antes de tomar uma decisão, é sempre sensato considerar todas as opções e resultados possíveis.",
      "Embora nunca tivesse tentado antes, ele achou o snowboard surpreendentemente divertido e emocionante.",
      "Como ela era muito organizada e eficiente, sempre conseguia terminar suas tarefas rapidamente.",
      "Mesmo que o restaurante estivesse lotado, eles encontraram uma mesa agradável perto da janela com uma ótima vista.",
      "Se você está planejando viajar para o exterior, é essencial ter um passaporte válido e quaisquer vistos necessários.",
      "Antes de iniciar qualquer novo programa de exercícios, é aconselhável consultar seu médico ou um especialista em fitness.",
      "Depois de passar muitos anos morando na cidade, eles decidiram se mudar para uma vila tranquila e pacífica.",
      "Enquanto o chef preparava o prato principal, os garçons estavam preparando as mesas para a noite.",
      "Apesar dos contratempos iniciais, a equipe perseverou e acabou atingindo seus objetivos de longo prazo.",
      "Considerando a complexidade da situação, é importante abordar o problema com planejamento e estratégia cuidadosos.",
      "Para garantir o sucesso do evento, precisamos coordenar todos os diferentes aspectos e trabalhar juntos de forma eficaz."
    ]
  };

  const DEFAULT_CAP_BY_GROUP = { 'Impact': 'raiva', 'Sad': 'emocao', 'Mid-Long': 'emocao' };

  /* Rótulos amigáveis para exibir a emoção do texto */
  const CAPTION_DISPLAY = {
    raiva: 'Raiva',
    emocao: 'Emoção',
    medo: 'Medo',
    portuguese_sentences_mid_long: 'Mid-Long (texto)'
  };

  // Sequência por grupo (1-based) — edite à vontade:
  const MODEL_VOICES = [
    { folder: 'female-alc-dub', label: 'Voz Feminina 01',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [1,5,12] },
        { label: 'Sad',     prefix: 'pt_sad_',      start: 0, end: 2, cap: 'emocao', capSeq: [2,7,13] }
      ]
    },
    { folder: 'female-alc-dub-2', label: 'Voz Feminina 02',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [3,9,14] },
        { label: 'Sad',     prefix: 'pt_sad_',      start: 0, end: 2, cap: 'emocao', capSeq: [1,4,13] }
      ]
    },
    { folder: 'male-alc-dub', label: 'Voz Masculina 01',
      groups: [
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 5, cap: 'portuguese_sentences_mid_long', capSeq: [2,6,5,13,15,17] },
      ]
    },
    { folder: 'male-alc-dub-2', label: 'Voz Masculina 02',
      groups: [
        { label: 'Impact',  prefix: 'pt_impact_',   start: 0, end: 2, cap: 'raiva',  capSeq: [1,3,4] },
        { label: 'Mid-Long', prefix: 'pt_mid_long_', start: 0, end: 2, cap: 'portuguese_sentences_mid_long', capSeq: [2,4,21] },
      ]
    }
  ];

  // Rotação por chave dinâmica
  const capIndex = {};
  function nextCaption(key) {
    const arr = CAPTIONS[key] || [];
    if (!arr.length) return '';
    capIndex[key] = (capIndex[key] || 0);
    const i = capIndex[key] % arr.length;
    capIndex[key] += 1;
    return arr[i];
  }

  // Pega legenda segundo a sequência do grupo; se não houver, usa rotação
  function getCaptionFor(capKey, group, fileIdx) {
    const arr = CAPTIONS[capKey] || [];
    if (!arr.length) return '';
    if (Array.isArray(group.capSeq) && group.capSeq.length) {
      const localPos = (fileIdx - group.start);
      const chosenOneBased = group.capSeq[ localPos % group.capSeq.length ];
      const chosenZeroBased = Math.max(1, Number(chosenOneBased) || 1) - 1;
      return arr[ chosenZeroBased % arr.length ];
    }
    return nextCaption(capKey);
  }

  // === AJUSTE: cada cartão mostra também o "grupo" e a "emoção do texto"
  function buildModelPanel() {
    const wrap = document.getElementById('modelo-wrap');
    if (!wrap) return;
    wrap.innerHTML = '';

    // zera índices de rotação
    Object.keys(CAPTIONS).forEach(k => capIndex[k] = 0);

    MODEL_VOICES.forEach((v, idx) => {
      // Cria bloco colapsável por voz
      const det = document.createElement('details');
      det.className = 'model-voice';
      if (idx === 0) det.setAttribute('open', ''); // opcional: primeira aberta

      const sum = document.createElement('summary');
      sum.textContent = v.label;
      det.appendChild(sum);

      // Conteúdo da voz
      const content = document.createElement('div');
      content.className = 'model-content';

      // Áudio de referência por voz (se houver)
      const refName = REF_VOICE_FILES[v.folder];
      if (refName) {
        const ref = document.createElement('div');
        ref.className = 'ref-audio';

        const audioRef = document.createElement('audio');
        audioRef.controls = true;
        audioRef.preload = 'none';
        audioRef.src = `${REF_BASE_ROOT}/${refName}`;

        const tag = document.createElement('span');
        tag.textContent = 'Áudio de referência';

        ref.appendChild(audioRef);
        ref.appendChild(tag);
        content.appendChild(ref);
      }

      // Grid de cartões (áudio + chips + legenda)
      const grid = document.createElement('div');
      grid.className = 'model-grid';

      v.groups.forEach(g => {
        const capKey = g.cap || DEFAULT_CAP_BY_GROUP[g.label] || 'emocao';
        const capLabel = CAPTION_DISPLAY[capKey] || capKey;

        for (let i = g.start; i <= g.end; i++) {
          const filename = `${g.prefix}${i}.wav`;

          const card = document.createElement('div');
          card.className = 'model-card';

          // Chips de metadados
          const chips = document.createElement('div');
          chips.className = 'chips';

          const chipGroup = document.createElement('span');
          chipGroup.className = 'chip chip-group';
          chipGroup.textContent = g.label; // Impact / Sad / Mid-Long


          chips.appendChild(chipGroup);
         

          // Player de áudio
          const audio = document.createElement('audio');
          audio.controls = true;
          audio.preload = 'none';
          audio.src = `${MODEL_BASE_ROOT}/${v.folder}/output/${filename}`;

          // Legenda (frase) escolhida
          const line = document.createElement('p');
          line.textContent = getCaptionFor(capKey, g, i);

          // Monta o cartão
          card.appendChild(chips);
          card.appendChild(audio);
          card.appendChild(line);
          grid.appendChild(card);
        }
      });

      content.appendChild(grid);
      det.appendChild(content);
      wrap.appendChild(det);
    });
  }

  // Carrega quando abrir a aba
  const tabModeloBtn = document.getElementById('tab-modelo');
  const painelModelo = document.getElementById('painel-modelo');
  let modelBuilt = false;
  function ensureModelBuild() { if (!modelBuilt) { buildModelPanel(); modelBuilt = true; } }
  tabModeloBtn.addEventListener('click', ensureModelBuild);
  if (painelModelo.classList.contains('active')) ensureModelBuild();
</script>

    <script src="js/animheader.js"></script>
  </body>
</html>
